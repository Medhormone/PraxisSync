model User {
  id         String  @id @default(uuid(7)) @db.Uuid
  email      String? @unique
  firstName  String?
  lastName   String?
  personalId String? @unique
  fullName   String? @db.VarChar(255)

  starredBlogs Blog[] @relation("BlogStars")

  phoneNumber  String  @unique
  passwordHash String?

  smsCode          String?
  smsCodeExpiresAt DateTime?

  isVerified Boolean @default(false)

  refreshTokens RefreshToken[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

model PendingUser {
  id               String    @id @default(uuid(7)) @db.Uuid
  email            String?   @unique
  firstName        String?
  lastName         String?
  fullName         String?   @db.VarChar(255)
  phoneNumber      String
  passwordHash     String
  smsCode          String
  smsCodeExpiresAt DateTime?
  isVerified       Boolean   @default(false)
  personalId       String?   @unique

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("pending_users")
}
